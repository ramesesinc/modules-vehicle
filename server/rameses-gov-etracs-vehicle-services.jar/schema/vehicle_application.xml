<schema adapter="vehicledb">
	<element tablename="vehicle_application">
		<field name="objid" primary="true" prefix="VAPP"/>

		<field name="franchiseyearid" required="true"/>		
		<field name="geninfoid" required="true"/>

		<field name="appno" required="true" caption="App No" searchable="true" indexed="true"/>
		<field name="appdate" required="true" caption="App Date"/>
		<field name="apptype" required="true" indexed="true"  caption="App Type"/>
		<field name="txnmode" required="true" defaultValue="ONLINE"/>
		<field name="dtcreated" required="true" />
		<field name="createdby_objid" />
		<field name="createdby_name" />
		<field name="particulars"  />
		<field name="dtapproved" />

		<!-- this will be loaded automatically -->
		<field name="taskid" />
		<field name="permitid"/>
		<field name="prevappid" />

		<complex name="units" ref="vehicle_application_unit" jointype="one-to-many" required="false">
			<key field="objid" target="appid" />
		</complex>
		<complex name="droppedunits" ref="vehicle_application_unit_dropped" jointype="one-to-many" required="false">
			<key field="objid" target="appid" />
		</complex>	

	</element>
</schema>